\section{Slater--Condon rules}

We solve Exercise~\ref{exercise:slater-condon}, but we opt for using
Wick's Theorem, since it is not so tedious.

\subsection{a)}

Let $p_1<p_2<\cdots<p_N$ be single-particle indices, and we shall compute
\begin{equation}
  \braket{p_1,\cdots,p_N|\hat{H}_0|p_1,\cdots,p_N}
\end{equation}
using Wick's Theorem.

We first compute
\begin{equation}
  \braket{p_1,\cdots,p_N|q^\dag r|p_1,\cdots,p_N} = \bra{-}p_N
  p_{N-1} \cdots p_1 q^\dag r p^\dag_1 p^\dag_2\cdots p^\dag_{N-1} p^\dag_N\ket{-}.
\end{equation}
We must sum over all fully contracted expressions. Here is a
non-vanishing contraction:
\begin{equation}
  \braket{p_1,\cdots,p_N|q^\dag r|p_1,\cdots,p_N} = \bra{-}
  \contraction[2ex]{}{p}{{}_N p_{N-1} \cdots p_2 p_1 q^\dag r p^\dag_1
    p^\dag_2 \cdots p^\dag_{N-1}}{p}
  \contraction[1.5ex]{p_N}{p}{{}_{N-1} \cdots p_2 p_1 q^\dag r p^\dag_1
    p^\dag_2 \cdots }{p}
 p_N
  p_{N-1} \cdots \contraction{}{p}{{}_2 p_1 q^\dag r p^\dag_1}{p} p_2 \contraction[.5ex]{}{p}{{}_1}{q} p_1 q^\dag
  \contraction[.5ex]{}{r}{}{p} r p^\dag_1 p^\dag_2\cdots p^\dag_{N-1}
  p^\dag_N\ket{-} = \delta_{p_1 q} \delta_{p_1 r}.
\end{equation}
The contractions between $p_{N-2}$ and $p^\dag_{N-2}$, etc, are not
shown.

The other vanishing contractions are on a similar form, contracting
$q^\dag$ with some $p_j$, and $r$ with $p^\dag_j$. If we try other
combinations we get zero.

Thus,
\begin{equation}
  \braket{p_1,\cdots,p_N|\hat{H}_0|p_1,\cdots,p_N} = \sum_{i=1}^N
  \braket{p_i|\hat{h}|p_i}.
\end{equation}

We next consider the expectation value of $\hat{W}$, and therefore
consider the vacuum expectation value
\begin{equation}
  \braket{p_1,\cdots,p_N|q^\dag r^\dag t s|p_1,\cdots,p_N} = \bra{-}p_N
  p_{N-1} \cdots p_1 q^\dag r^\dag t s p^\dag_1 p^\dag_2\cdots
  p^\dag_{N-1} p^\dag_N\ket{-}. 
\end{equation}
Here is a nonvanishing contraction:
\begin{equation}
 \bra{-} 
 \contraction[.5ex]{p_N p_{N-1} \cdots p_{3} p_2}{p}{{}_1}{q}
 \contraction[1ex]{p_N p_{N-1} \cdots p_{3} }{p}{{}_2 p_1 q^\dag}{p}
 p_N p_{N-1} \cdots p_{3} p_2 p_1 q^\dag r^\dag t s p^\dag_1
 p^\dag_2 p^\dag_3 \cdots p^\dag_{N-1} p^\dag_N 
 \ket{-}
\end{equation}
